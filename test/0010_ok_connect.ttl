

; testlink
testlink
assert result == 0  "connect OK!"


;この方法は、SSHバージョンを指定せずにSSH接続をします。
connect 'localhost:2200 /ssh /1'
assert result == 0  result ; SSH1 は未サポート
assert 1  "closettt start"
closett
assert 1  "closettt end"


; /1 と /2 のオプションは、SSH1およびSSH2であることを指定します。
error=''
assert 1  "connect start"
connect 'localhost:2200 /ssh /auth=password /user=aaa /passwd=bbb'
assert result == 2  "connect" result  ; 接続できている
closett

; /1 入っていたらエラー
connect 'localhost:2200 /ssh /1 /auth=password /user=username /passwd=password'
assert  result == 0   "connect OK!" result ; SSH1は未サポート
closett
; 以下同様なのでスキップ
;connect 'localhost:2200 /ssh /1 /auth=challeOKe /user=username /passwd=password'
;connect 'localhost:2200 /ssh /1 /auth=publickey /user=username /passwd=password /keyfile=test_rsa.key'
;connect 'localhost:2200 /ssh /1 /auth=pageant /user=username'

; できるはず
getdir keyfile
assert 1 'keyfile_1' keyfile
strconcat keyfile '\..\test_rsa.key'
assert 1 'keyfile_2' keyfile
command = 'localhost:2200 /ssh /2 /auth=publickey /user=username /passwd=password /keyfile='
strconcat command keyfile
assert 1 command
connect command
assert  result == 2   "connect OK!" result ; SSH1は未サポート
closett
pause 1


connect 'myserve /ssh /auth=password /user=username /ask4passwd'
assert  result == 0   "connect OK!" result ;  ask4passwd が入っていたらエラー
closett
connect 'localhost:2200 /ssh /1 /auth=password /user=username /ask4passwd'
assert  result == 0   "connect OK!" result ;  ask4passwd が入っていたらエラー
closett
connect 'localhost:2200 /ssh /2 /auth=password /user=username /ask4passwd'
assert  result == 0   "connect OK!" result ;  ask4passwd が入っていたらエラー
closett
connect 'localhost:2200 /ssh /auth=publickey /user=username /ask4passwd /keyfile=private-key-file'
assert  result == 0   "connect OK!" result ;  ask4passwd が入っていたらエラー
closett
connect 'localhost:2200 /ssh /1 /auth=publickey /user=username /ask4passwd /keyfile=private-key-file'
assert  result == 0   "connect OK!" result ;  ask4passwd が入っていたらエラー
closett
connect 'localhost:2200 /ssh /2 /auth=publickey /user=username /ask4passwd /keyfile=private-key-file'
connect 'myserve /ssh /auth=challeOKe /user=username /ask4passwd'
assert  result == 0   "connect OK!" result ;  ask4passwd が入っていたらエラー
closett
connect 'localhost:2200 /ssh /1 /auth=challeOKe /user=username /ask4passwd'
assert  result == 0   "connect OK!" result ;  ask4passwd が入っていたらエラー
closett
connect 'localhost:2200 /ssh /2 /auth=challeOKe /user=username /ask4passwd'
assert  result == 0   "connect OK!" result ;  ask4passwd が入っていたらエラー
closett

; COMポート接続 はできません
connect '/C=x'
assert  result == 0   "COM port OK!" result ;  ask4passwd が入っていたらエラー

error=''
result = 1
